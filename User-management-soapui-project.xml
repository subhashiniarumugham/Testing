<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="174b5824-e1fd-4dd4-9b64-cfd553d7e38e" activeEnvironment="Default" name="User management" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="Get User Details"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="TestCase 1"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="95a4e59a-e974-4bf1-b7b6-6bc18ba1b42b" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://reqres.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://reqres.in</con:endpoint></con:endpoints><con:resource name="Get Users" path="/api/users" id="1adb6453-8e65-4793-a5ff-c2a0804ba4aa"><con:settings/><con:parameters><con:parameter><con:name>page</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>2</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Users 1" id="8bfde9d4-e49a-4c6b-ad50-2e29463ed461" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="https://reqres.in/api/users">user:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="7ea16200-73c8-44b0-92ef-830e9bbfa797" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request/><con:originalUri>https://reqres.in/api/users</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="page" value="2" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>page</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="Add users" path="/api/users" id="4f7391ac-fa45-4e32-9094-5db87c4506dc"><con:settings/><con:parameters/><con:method name="Method 1" id="c6c1f52a-8e5a-4e92-a162-56757ae1e973" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:user="https://reqres.in/api/users">user:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="a1838c16-f782-404e-aa60-1a585cac4559" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>{
    "name": "morpheus",
    "job": "leader"
}</con:request><con:originalUri>https://reqres.in/api/users</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="Update user" path="/api/users/2" id="88efbd8f-7fb4-47f2-a34e-e3e2df683a3a"><con:settings/><con:parameters/><con:method name="Method 1" id="996d3cd1-c576-4853-abc9-8890e86909d0" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="https://reqres.in/api/users/2">ns:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="6aad39a3-4877-4c57-a389-a6b71ebd7ef7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>
{
    "name": "morpheus",
    "job": "zion resident"
}</con:request><con:originalUri>https://reqres.in/api/users/2</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="f4d2f5bf-5d68-44ad-a4f7-bd62e144f70e" name="Get User Details"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="857d9d00-419b-4430-ab88-6f457e6826f8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Happy_Pat_Get user" id="11b0dc05-69cb-42b0-aaa9-0572070721a6"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users" methodName="Users 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Happy_Pat_Get user" id="7ea16200-73c8-44b0-92ef-830e9bbfa797" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request/><con:originalUri>https://reqres.in/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7bb0e9b2-c725-4ae4-a88e-c3647db01ac2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="00e3e304-ab44-4701-8ed1-fcfc595ac063" name="Script Assertion"><con:configuration/></con:assertion><con:assertion type="XPath Match" id="c9c80165-5c7e-4ba6-879d-3c844404f09b" name="XPath Match"><con:configuration/></con:assertion><con:assertion type="Invalid HTTP Status Codes" id="378476c7-38c3-4f9f-8f18-5b5d0fb6b650" name="Invalid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="Schema Compliance" id="8b3757e9-a984-4caf-8244-196b705ccde9" name="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="JsonPath Existence Match" id="1d0243bc-4c41-47c0-8387-535967fc1cb4" name="JsonPath Existence Match"><con:configuration/></con:assertion><con:assertion type="JsonPath Match" id="73a614ef-3ea1-4d2e-8583-6dfac321d516" name="JsonPath Match 1"><con:configuration/></con:assertion><con:assertion type="Response SLA Assertion" id="aa17823d-1b76-482e-a245-05ed1c3dc01d" name="Response SLA"><con:configuration/></con:assertion><con:assertion type="Sensitive Information Exposure" id="47309907-179c-49ca-a4c5-f24b29c7a1b0" name="Sensitive Information Exposure"><con:configuration/></con:assertion><con:assertion type="GroovyScriptAssertion" id="509045ff-16dd-430d-9fc4-573e7d4d2fa7" name="Script Assertion 1"><con:configuration/></con:assertion><con:credentials><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="page" value="2" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>page</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="e1de3a3a-e45b-4d72-a5b6-0698a8747cd9"><con:settings/><con:config><script><![CDATA[import java.io.*;
def projectname= testRunner.testCase.testSuite.project.name
log.info(projectname);
def suitename= testRunner.testCase.testSuite.name
log.info(suitename);
def casename= testRunner.testCase.name
log.info(casename); 

// Req, res , status 

def x=context.testCase.testStepList[context.currentStepIndex-1].name;
log.info(x);

def step1Result = testRunner.runTestStepByName(context.testCase.testStepList[context.currentStepIndex - 1].name)

def myRequestStep = testRunner.testCase.getTestStepByName(x).testRequest.messageExchange.rawRequestData;
def req = new String(myRequestStep)
log.info(req);

def response= testRunner.testCase.getTestStepByName(x).testRequest.response.contentAsString;
log.info(response);
def status= step1Result.status;



Date d = new Date()
log.info(d) 

def timetaken = testRunner.timeTaken
log.info(timetaken +"ms") 


File file =new File("C://Users//subha//Desktop//AutomationReport.html")
file.createNewFile()
FileWriter fw = new FileWriter(file)
PrintWriter p=new PrintWriter(fw);

p.write("<!DOCTYPE html>");
p.write("<head>");
p.write("</head>");
p.write("<body>");
p.write("<h1 align=center> $projectname  </h1>");
p.write("<h3 align=center> $suitename  </h3>");
p.write("<h3 align=center> $d  </h3>");
p.write("<h3 align=center> $timetaken in ms  </h3>");
p.write("<h3 align=left> $casename  </h3>");
p.write("<table border=1px>");
p.write("<tr>")
p.write("<th> Request details </th>")
p.write("<th> Response details </th>")
p.write("<th> Status </th>")
p.write("</tr>")
p.write("<tr>")
p.write("<td> $req </td>")
p.write("<td> $response</td>")
p.write("<td> $status </td>")
p.write("</tr>")
p.write("</table>");
p.write("</body>");
p.write("</html>");
p.close();


]]></script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="281526ed-1bc8-4c51-a27e-87d0a1543bb3" name="Add User TSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="700b0cf1-bfd6-4177-a7db-e7369431318b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Adduser_morpheus" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Method 1 - Request 1" id="eb6b35f5-cb9a-4ca2-bb72-e0cb59e87008"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Method 1 - Request 1" id="a1838c16-f782-404e-aa60-1a585cac4559" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>{
    "name": "${#TestSuite#Name}",
    "job": "leader",
    "place":"chennai"
}</con:request><con:originalUri>https://reqres.in/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9bb66ee5-78a2-4695-b6c2-2cd443756dd4" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="adbca59d-bc0d-4ed1-a81f-bbb78b9e2112" name="Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="f2c76046-959c-4320-9c8b-8aa6bd4a7a1b" name="Not Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="JDBC Request" id="82092993-3a07-4227-bf4f-5980a5113814"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" convertColumnNamesToUpperCase="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a13e7d9e-c36c-4db9-ba57-3cd6869ecb8e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>Name</con:name><con:sourceType>Subha</con:sourceType><con:sourceStep>#Project#</con:sourceStep><con:sourcePath>$.data.name</con:sourcePath><con:targetType>Myproperty1</con:targetType><con:targetStep>#Global#</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Copy of Method 1 - Request 2" id="a178c0ce-0376-4f68-8ad2-b05c39678fff"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of Method 1 - Request 2" id="a1838c16-f782-404e-aa60-1a585cac4559" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>{
    "name": "morpheus",
    "job": "leader",
    "place":"chennai"
}</con:request><con:originalUri>https://reqres.in/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9bb66ee5-78a2-4695-b6c2-2cd443756dd4" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="952dbcf9-190e-4901-bc82-181923b58f7a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 2-Definition" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="REST Request" id="f392d6d2-324f-4fd3-a74a-0b4bce734d40"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="a1838c16-f782-404e-aa60-1a585cac4559" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>{
    "name": "morpheus",
    "job": "leader"
}</con:request><con:originalUri>https://reqres.in/api/users</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="636946cb-0540-414f-bd99-93ea24546dc1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Copy of Adduser_morpheus" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Method 1 - Request 1" id="03660042-21e5-4eeb-bc15-6d9bc18abf62"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Method 1 - Request 1" id="a1838c16-f782-404e-aa60-1a585cac4559" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>{
    "name": "morpheus",
    "job": "leader",
    "place":"chennai"
}</con:request><con:originalUri>https://reqres.in/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9bb66ee5-78a2-4695-b6c2-2cd443756dd4" name="Valid HTTP Status Codes"><con:configuration><codes>200,201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="992721ef-c28e-43ca-a2bd-6cdce7ef9e3c" name="Update user Tsuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="7160dfdc-4a0b-4a65-85d0-91b09ce8964c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Method 1 - Request 1" id="6b3def70-7309-4f19-84ad-0d4fca88d450"><con:settings/><con:config service="https://reqres.in" resourcePath="/api/users/2" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Method 1 - Request 1" id="6aad39a3-4877-4c57-a389-a6b71ebd7ef7" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://reqres.in</con:endpoint><con:request>
{
    "name": "morpheus",
    "job": "zion resident"
}</con:request><con:originalUri>https://reqres.in/api/users/2</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5c126eeb-fa6a-44c1-9409-7a4a4d345206" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="ae3d17f2-3aa5-4257-a1df-d083b39daef0"><con:settings/><con:config><script>def runner = testRunner.testCase.testSuite.project.getTestSuiteByName("Get User Details").getTestCaseByName("TestCase 1").getTestStepByName("Happy_Pat_Get user").run(testRunner, context);
def status=runner.getStatus()
log.info(status);
def time= runner.getTimeTaken()
log.info(time)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>Subha</con:name><con:value>12</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>